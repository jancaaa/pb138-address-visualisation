<chapter xmlns:xlink="http://www.w3.org/1999/xlink">
	<title>Jan Tojnar - zpráva</title>
	<para>Hlavní náplní mé spolupráce na projektu byla aplikace určené k vykreslování visualisací generovaných visualisátory, které připravovala Alice. Mimo to jsem se také věnoval optimalizaci kódu visualisátorů a drobným vylepšením dalších částí projektu.</para>
	<para>Protože je stěžejní částí aplikace vykreslování geografických údajů, rozhodl jsem se jako první prozkoumat možnosti různých knihoven pro práci s mapovými podklady. <link xlink:href="https://developers.google.com/maps/documentation/javascript/">Google Maps</link> jsou pravděpodobně nejznámějším software tohoto typu, ale brzy se ukázalo, že existují i schopné alternativy. <link xlink:href="https://api.mapy.cz/">Mapy.cz</link> poskytují vlastní API, ale vázat se na jednoho poskytovatele, navíc lokálního, by nemuselo být z dlouhodobého hlediska moudré. Mnohem zajímavější se jevily být knihovny <link xlink:href="http://leafletjs.com/">leaflet.js</link> a <link xlink:href="http://openlayers.org/">OpenLayers</link> – umožňují využívat podklady z vícero zdrojů včetně svobodných jako <link xlink:href="https://www.openstreetmap.org">OSM</link>. Poslední jmenovanou knihovnu jsem také nakonec zvolil. Kromě těchto jsem při hledání narazil ještě na <link xlink:href="http://mapstraction.com/">Mapstraction</link>, ale ta se už zřejmě nevyvíjí.</para>
	<para>Z pragmatického hlediska jsem zvolil k tvorbě zobrazovače JavaScript, neboť v něm je psána též knihovna OpenLayers. Pro zpřehlednění kódu jsem ale využil některé prvky standardu EcmaScript 6 jako jsou třídy nebo <emphasis>arrow functions</emphasis>. V Pythonu jsem pak na zkoušku napsal visualisátor a rozhodl jsem se, že výstupem visualisátorů by měl být <link xlink:href="http://geojson.org/">GeoJSON</link>, protože s JSONem se v JavaScriptu snadno manipuluje.</para>
	<para>Zpočátku uměl zobrazovač pouze vykreslovat dodaný soubor do mapy a zobrazovat informace o prvku, který uživatel označil, později jsem jeho funkčnost rozšířil ještě o vykreslování histogramů hodnot předaných visualiséry a také klikatelný seznam jednotlivých prvků aktuálně viditelných na mapě. To byla také jedna z nejproblematičtějších částí, kvůli tomu, že je třeba údaje mezi mapou a seznamem neustále synchronizovat.</para>
	<para>Kód jsem několikrát refaktoroval, až z původně ne příliš strukturované posloupnosti podmínek, volání funkcí a cyklů vykrystalizoval kód rozčleněný do metod úzce specializovaných tříd. To jsem v závěru ještě zpřehlednil, když jsem komunikaci mezi jednotlivými bloky zorganizoval pomocí <emphasis>dispatche událostí</emphasis>.</para>
	<para>Přínos projektu pro mě spočívá především v okusení, jak probíhá koordinace práce na jednom projektu mezi osobami v týmu, a to jak po stránce technické (mergování konfliktů v repositáři), tak i po stránce lidské.</para>
</chapter>
